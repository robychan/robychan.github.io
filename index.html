<!DOCTYPE html>
<html lang="en">

<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="js/hammer.js"></script>
<script src="js/hammer-jquery.js"></script>
<script src="js/aframe.min.js"></script>
<script src="js/aframe-ar.js"> </script>
    <!-- Menu Toggle Script -->
    <script>
	$( document ).ready(function() {
		var sceneEl = document.querySelector('a-scene');
		var entity = sceneEl.querySelector('a-entity');
		var colMod = entity.querySelector('a-collada-model');

		$("#menu-toggle").click(function(e) {
			e.preventDefault();
			$("#wrapper").toggleClass("toggled");
		});
		
		
		$(".testButton").click(function(e) {
			var va=JSON.parse($this).attr('scaleValue');
			console.log($(this).attr('value'))
			colMod.setAttribute('src', ($(this).attr('value')));
			colMod.setAttribute('scale', {x: va.x, y: va.y, z: va.z});
		});
		
		//Handles Rotation
		$(document.body).hammer({domEvents:true}).bind('panup pandown panleft panright', '.a-canvas', function(e){
			var pos = document.querySelector('#TDmodel').getAttribute('rotation')
			
			console.log(pos.x+","+pos.y+","+pos.z)
				var pos = document.querySelector('#TDmodel').getAttribute('rotation')

				if(e.gesture!=null){
					console.log(e.gesture.deltaX+" "+e.gesture.deltaY);
						colMod.setAttribute('rotation', {x: (e.gesture.deltaY%360)+pos.x, y: (e.gesture.deltaX%360)+pos.y, z: pos.z});
				}
		});
	});
    </script>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>XPO Logistics</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="css/simple-sidebar.css" rel="stylesheet">
    <style>
	.testContainer {
    		width: 450px;
    		overflow: auto;
	}
    </style>
</head>
<body>
	<a-scene embedded arjs>
		<a-assets>
			<a-asset-item id="tree" src="https://aframe.io/aframe/examples/assets/models/tree1/tree1.dae"></a-asset-item>
		</a-assets>
		<a-marker preset="hiro">
			<a-entity id="TDmodel" position="0 0.2 0" rotation="-90 0 0">
				<a-collada-model src="#tree" scale=".5 .5 .5"></a-collada-model>
			</a-entity>			
		</a-marker>
		<a-entity camera></a-entity>
	</a-scene>		
	<div id="page-content-wrapper" style="top: 0.01%;">
		<div style="float: right;">
        		<a href="#menu-toggle" class="btn btn-secondary" id="menu-toggle">Toggle Menu</a>
       		</div>
   	</div>
    	<div id="wrapper" style="opacity: 0.8;">
	        <div id="sidebar-wrapper" style="top: 0.01%; position: absolute;">
            		<ul class="sidebar-nav">
                		<li class="sidebar-brand">
					<hr>
					<h3><b style="color:red"> XPO</b><b style="opacity:1; color:white"> Logistics</b></h3>
               			</li>
                		<li>
                    			<a href="#"><img src="models/furniture1/Oak_American_White_seamless_horiz.jpg" alt="furniture1" class="testButton" style"height:66%;width:66%;opacity:1;" value="models/furniture1/model.dae" scaleValue='{"x":1,"y":1,"z":1}'/></a>
                			<hr>
				</li>
                		<li>
                    			<a href="#"><img src="models/furniture2/DesignChair1.png" alt="furniture2" class="testButton" style"height:66%;width:66%;opacity:1;" value="models/furniture2/DesignChair1.dae" scaleValue='{"x":3,"y":3,"z":3}'/></a>
                			<hr>
				</li>
                		<li>
                    			<a href="#"><img src="models/furniture3/table.png" alt="furniture3" class="testButton" style"height:66%;width:66%" value="models/furniture3/table.dae" scaleValue='{"x":0.5,"y":0.5,"z":0.5}'/></a>
                			<hr>
				</li>
                		<li>
                    			<a href="#"><img src="models/furniture4/CHAIR.png" alt="furniture4" class="testButton" style"height:66%;width:66%" value="models/furniture4/CHAIR.dae" scaleValue='{"x":0.9,"y":0.9,"z":0.9}'/></a>
					<hr>
				</li>
            		</ul>
        	</div>
    	</div>
</body>
</html>
